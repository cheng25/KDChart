# Gantt测试工程说明

## 概述
本目录包含了KD Chart库中Gantt图表组件的各种测试工程，用于验证和展示甘特图的不同功能和用法。

## 子目录说明

### apireview
包含API审查相关的测试代码，演示甘特图条目的编辑、约束管理和UI交互。
- `entrydelegate.cpp`: 自定义委托类，处理甘特图条目的编辑和约束关系
- `entrydialog.cpp`: 条目编辑对话框，用于设置任务名称、类型、日期和依赖关系

### customconstraints
演示自定义甘特图约束的测试工程。
- `main.cpp`: 自定义约束添加逻辑和显示样式，实现甘特图的缩放功能

### gfxview
图形视图相关的测试工程，演示自定义行控制器和数据模型。
- `main.cpp`: 实现自定义行控制器和标准项模型，控制行高、可见性和数据设置

### headers
演示自定义甘特图日期时间刻度格式化器和表头视图的工程。
- `main.cpp`: 自定义时间刻度格式化器和表头视图，控制甘特图的时间轴显示

### listview
演示甘特图与列表视图结合使用的测试工程。
- `main.cpp`: 实现自定义列表视图和主窗口部件，展示任务数据和约束关系

### reorder
演示甘特图任务重排序功能的测试工程。
- `main.cpp`: 实现支持行移动的自定义任务模型，演示任务重排序时图表的更新

### unittest
甘特图单元测试的入口工程。
- `main.cpp`: 执行所有注册的甘特图单元测试

### view
甘特图视图基本功能的测试工程。

## 代码执行逻辑

### 类关系
1. `KDGantt::View`: 甘特图的主视图类，包含左侧视图和图形视图
2. `KDGantt::DateTimeGrid`: 日期时间网格，控制甘特图的时间轴显示
3. 自定义模型类: 如`MyTaskModel`，提供甘特图所需的数据
4. 自定义委托类: 如`EntryDelegate`，处理用户交互和编辑
5. 自定义视图类: 如`MyListView`，调整甘特图左侧列表的显示

### 执行流程
1. 初始化数据模型，设置任务数据和约束关系
2. 创建甘特图视图，配置网格和坐标轴
3. 将数据模型关联到视图
4. 响应用户交互（如添加行/列、移动任务、缩放图表）
5. 实时更新图表显示

## Qt5.15.2升级说明
本测试工程已检查Qt5.15.2兼容性，未发现使用已废弃API的情况。所有Qt相关代码均符合Qt5.15.2标准。

## C++17升级说明
本测试工程已调整为兼容C++17标准，使用了以下C++17特性：
- 类型推导（auto）
- 范围for循环
- Lambda表达式
- nullptr代替NULL

所有代码均符合C++17标准规范。